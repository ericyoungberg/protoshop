{"version":3,"file":"protoshop.min.js","sources":["../src/util.js","../src/list.js","../src/panel.js","../index.js","../src/ProtoShop.js"],"sourcesContent":["export function noop() {}\n","import { noop } from './util';\n\n\nexport default class List {\n\n    constructor() {\n        this.elem = document.createElement('ul');\n        this.elem.className = 'protoshop__list';\n\n        this.toggle = noop;\n    }\n\n\n    append({ elem, text }) {\n        const item = document.createElement('li');\n\n        const eye = document.createElement('button');\n        eye.innerHTML = '&#128065;';\n        eye.addEventListener('click', () => {\n            const inactive = item.classList.contains('inactive');\n\n            if (inactive) {\n                item.classList.remove('inactive');\n            }\n            else {\n                item.classList.add('inactive');\n            }\n\n            this.toggle(elem, inactive);\n        });\n\n        const content = document.createElement('span');\n        content.innerText = text;\n\n        item.appendChild(eye);\n        item.appendChild(content);\n\n        this.elem.appendChild(item);\n\n        return item;\n    }\n\n\n    toggle(elem, inactive) {\n        elem.classList[inactive ? 'remove' : 'add']('protoshop__layer--inactive');\n    }\n\n}\n","export default class Panel {\n\n    constructor(name) {\n        this.name = name;\n        this.elem = document.createElement('div');\n        this.elem.className = `protoshop__panel ${name}`;\n\n        this.body = document.createElement('div');\n        this.body.className = 'protoshop__panel-body';\n        this.elem.appendChild(this.body);\n    }\n\n}\n","/**\n * ProtoShop\n */\n\n\nimport ProtoShop from './src/ProtoShop';\nimport './src/styles/protoshop.scss';\n\n\nwindow.protoshop = new ProtoShop();\n","import List from './list';\nimport Panel from './panel';\n\n\nexport default class ProtoShop {\n\n    constructor() {\n        this.app = document.createElement('div');\n        this.app.className = 'protoshop';\n\n        this._attachToggles();\n\n        this.panels = [\n            this._constructArtboards(),\n            this._constructLayers(),\n            this._constructPhases(),\n        ];\n\n        this._constructWindow();\n\n        document.querySelector('body').appendChild(this.app);\n    }\n\n\n    _attachToggles() {\n        Array.from(document.querySelectorAll('*[data-toggle]')).forEach(elem => {\n            let { toggle } = elem.dataset;\n            let target = elem;\n\n            if (toggle.indexOf(':') !== -1) {\n                let layer;\n                [layer, toggle] = toggle.split(':');\n\n                target = document.querySelector(`*[data-group=\"${layer}\"], *[data-layer=\"${layer}\"]`);\n                if (!target) {\n                    elem.classList.add('protoshop__error--toggle');\n                    console.error(`\"${layer}\" is not a valid layer`);\n                }\n            }\n\n            if (target) {\n                elem.addEventListener('click', () => {\n                    if (target.classList.contains(toggle)) {\n                        target.classList.remove(toggle);\n                    }\n                    else {\n                        target.classList.add(toggle);\n                    }\n                });\n            }\n        });\n    }\n\n\n    _constructArtboards() {\n        const panel = new Panel('artboards');\n        const list = new List();\n\n        Array.from(document.querySelectorAll('*[data-artboard]')).forEach((elem, i) => {\n            const text = typeof elem.dataset.artboard === 'string ' ? elem.dataset.artboard : `Artboard ${i + 1}`;\n\n            list.append({ elem, text });\n        });\n\n        panel.body.appendChild(list.elem);\n\n        return panel;\n    }\n\n\n    _constructLayers() {\n        const panel = new Panel('layers');\n        const list = new List();\n\n        list.toggle = elem => {\n            if (elem.classList.contains('protoshop__layer--inactive')) {\n                elem.classList.remove('protoshop__layer--inactive');\n            }\n            else {\n                elem.classList.add('protoshop__layer--inactive');\n            }\n        };\n\n        Array.from(document.querySelectorAll('*[data-group], *[data-layer]')).forEach(elem => {\n            if (elem.dataset.group) {\n                const listNode = list.append({ elem, text: elem.dataset.group });\n                const sublist = new List();\n\n                listNode.appendChild(sublist.elem);\n            }\n            else {\n\n            }\n        });\n\n        panel.body.appendChild(list.elem);\n\n        return panel;\n    }\n\n\n     _constructPhases() {\n        const panel = new Panel('phases');\n\n        return panel;\n    }\n\n\n    _constructWindow() {\n        const _window = document.createElement('div');\n        _window.className = 'protoshop__window';\n\n\n        // Title bar\n        const bar = document.createElement('div');\n        bar.className = 'protoshop__window-bar';\n\n        const minimize = document.createElement('button');\n        minimize.innerText = '—';\n\n        minimize.addEventListener('click', () => {\n            if (_window.classList.contains('protoshop__window--minimized')) {\n                minimize.innerText = '—';\n                _window.classList.remove('protoshop__window--minimized');\n            }\n            else {\n                minimize.innerText = '+';\n                _window.classList.add('protoshop__window--minimized');\n            }\n        });\n\n        bar.appendChild(minimize);\n\n\n        // Tabs\n        const tabs = document.createElement('div');\n        tabs.className = 'protoshop__tabs';\n        this.tabs = [];\n\n        this.panels.forEach(({ name }, i) => {\n            const tab = document.createElement('button');\n            tab.className = \"protoshop__tab\";\n            tab.innerText = name[0].toUpperCase() + name.substr(1, name.length).toLowerCase();\n\n            tab.addEventListener('click', () => {\n                this.panels.forEach((_panel, i) => {\n                    _panel.elem.classList[_panel.name === name ? 'add' : 'remove']('protoshop__panel--active');\n                    this.tabs[i] && this.tabs[i].classList[_panel.name === name ? 'add' : 'remove']('active');\n                });\n            });\n\n            tabs.appendChild(tab);\n            this.tabs.push(tab);\n\n            if (i === 0) {\n                tab.dispatchEvent(new MouseEvent('click'));\n            }\n        });\n\n\n        // Panels\n        const panels = document.createElement('div');\n        panels.className = 'protoshop__panels';\n\n        this.panels.forEach(panel => panels.appendChild(panel.elem));\n\n\n        _window.appendChild(bar);\n        _window.appendChild(tabs);\n        _window.appendChild(panels);\n\n        this.app.appendChild(_window);\n    }\n\n};\n"],"names":["noop","List","constructor","elem","document","createElement","className","toggle","append","text","item","eye","innerHTML","addEventListener","inactive","classList","contains","remove","add","content","innerText","appendChild","Panel","name","body","this","window","protoshop","app","_attachToggles","panels","_constructArtboards","_constructLayers","_constructPhases","_constructWindow","querySelector","Array","from","querySelectorAll","forEach","dataset","target","indexOf","layer","split","console","error","panel","list","i","artboard","group","listNode","sublist","_window","bar","minimize","tabs","tab","toUpperCase","substr","length","toLowerCase","_panel","push","dispatchEvent","MouseEvent"],"mappings":"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"}