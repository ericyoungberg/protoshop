{"version":3,"file":"protoshop.min.js","sources":["../src/util.js","../src/list.js","../src/panel.js","../index.js","../src/ProtoShop.js"],"sourcesContent":["export function noop() {}\n","import { noop } from './util';\n\n\nexport default class List {\n\n    constructor() {\n        this.elem = document.createElement('ul');\n        this.elem.className = 'protoshop__list';\n\n        this.toggle = noop;\n    }\n\n\n    append({ elem, text }) {\n        const item = document.createElement('li');\n\n        const eye = document.createElement('button');\n        eye.addEventListener('click', () => {\n            const inactive = item.classList.contains('inactive');\n\n            if (inactive) {\n                item.classList.remove('inactive');\n            }\n            else {\n                item.classList.add('inactive');\n            }\n\n            this.toggle(elem, inactive);\n        });\n\n        const content = document.createElement('span');\n        content.innerText = text;\n\n        item.appendChild(eye);\n        item.appendChild(content);\n\n        this.elem.appendChild(item);\n\n        return item;\n    }\n\n\n    toggle(elem, inactive) {\n        elem.classList[inactive ? 'remove' : 'add']('protoshop__layer--inactive');\n    }\n\n}\n","export default class Panel {\n\n    constructor(name) {\n        this.name = name;\n        this.elem = document.createElement('div');\n        this.elem.className = `protoshop__panel ${name}`;\n\n        this.body = document.createElement('div');\n        this.body.className = 'protoshop__panel-body';\n        this.elem.appendChild(this.body);\n    }\n\n}\n","/**\n * ProtoShop\n */\n\n\nimport ProtoShop from './src/ProtoShop';\nimport './src/styles/protoshop.scss';\n\n\nwindow.protoshop = new ProtoShop();\n","import List from './list';\nimport Panel from './panel';\n\n\nexport default class ProtoShop {\n\n    constructor() {\n        this.app = document.createElement('div');\n        this.app.className = 'protoshop';\n\n        this._attachToggles();\n\n        this.panels = [\n            this._constructArtboards(),\n            this._constructLayers(),\n            this._constructPhases(),\n        ];\n\n        this._constructWindow();\n\n        document.querySelector('body').appendChild(this.app);\n    }\n\n\n    _attachToggles() {\n        Array.from(document.querySelectorAll('*[data-toggle]')).forEach(elem => {\n            let { toggle } = elem.dataset;\n            let target = elem;\n\n            if (toggle.indexOf(':') !== -1) {\n                let layer;\n                [layer, toggle] = toggle.split(':');\n\n                target = document.querySelector(`*[data-group=\"${layer}\"], *[data-layer=\"${layer}\"]`);\n                if (!target) {\n                    elem.classList.add('protoshop__error--toggle');\n                    console.error(`\"${layer}\" is not a valid layer`);\n                }\n            }\n\n            if (target) {\n                elem.addEventListener('click', () => {\n                    if (target.classList.contains(toggle)) {\n                        target.classList.remove(toggle);\n                    }\n                    else {\n                        target.classList.add(toggle);\n                    }\n                });\n            }\n        });\n    }\n\n\n    _constructArtboards() {\n        const panel = new Panel('artboards');\n        const list = new List();\n\n        Array.from(document.querySelectorAll('*[data-artboard]')).forEach((elem, i) => {\n            const text = typeof elem.dataset.artboard === 'string ' ? elem.dataset.artboard : `Artboard ${i + 1}`;\n\n            list.append({ elem, text });\n        });\n\n        panel.body.appendChild(list.elem);\n\n        return panel;\n    }\n\n\n    _constructLayers() {\n        const panel = new Panel('layers');\n        const list = new List();\n\n        Array.from(document.querySelectorAll('*[data-group], *[data-layer]')).forEach(elem => {\n            if (elem.dataset.group) {\n                const listNode = list.append({ elem, text: elem.dataset.group });\n                const sublist = new List();\n\n                listNode.appendChild(sublist.elem);\n            }\n            else {\n\n            }\n        });\n\n        panel.body.appendChild(list.elem);\n\n        return panel;\n    }\n\n\n     _constructPhases() {\n        const panel = new Panel('phases');\n\n        return panel;\n    }\n\n\n    _constructWindow() {\n        const _window = document.createElement('div');\n        _window.className = 'protoshop__window';\n\n\n        // Title bar\n        const bar = document.createElement('div');\n        bar.className = 'protoshop__window-bar';\n\n        const minimize = document.createElement('button');\n        minimize.innerText = '—';\n\n        minimize.addEventListener('click', () => {\n            if (_window.classList.contains('protoshop__window--minimized')) {\n                minimize.innerText = '—';\n                _window.classList.remove('protoshop__window--minimized');\n            }\n            else {\n                minimize.innerText = '+';\n                _window.classList.add('protoshop__window--minimized');\n            }\n        });\n\n        bar.appendChild(minimize);\n\n\n        // Tabs\n        const tabs = document.createElement('div');\n        tabs.className = 'protoshop__tabs';\n\n        this.panels.forEach(({ name }) => {\n            const tab = document.createElement('button');\n            tab.className = \"protoshop__tab\";\n            tab.innerText = name[0].toUpperCase() + name.substr(1, name.length).toLowerCase();\n\n            tab.addEventListener('click', () => {\n                this.panels.forEach(_panel => {\n                    _panel.classList[_panel.name === name ? 'add' : 'remove']('protoshop__panel--active');\n                })\n            });\n\n            tabs.appendChild(tab);\n        });\n\n\n        // Panels\n        const panels = document.createElement('div');\n        panels.className = 'protoshop__panels';\n\n        this.panels.forEach(panel => panels.appendChild(panel.elem));\n\n\n        _window.appendChild(bar);\n        _window.appendChild(tabs);\n        _window.appendChild(panels);\n\n        this.app.appendChild(_window);\n    }\n\n};\n"],"names":["noop","List","constructor","elem","document","createElement","className","toggle","append","text","item","eye","addEventListener","inactive","classList","contains","remove","add","content","innerText","appendChild","Panel","name","body","this","window","protoshop","app","_attachToggles","panels","_constructArtboards","_constructLayers","_constructPhases","_constructWindow","querySelector","Array","from","querySelectorAll","forEach","dataset","target","indexOf","layer","split","console","error","panel","list","i","artboard","group","listNode","sublist","_window","bar","minimize","tabs","tab","toUpperCase","substr","length","toLowerCase","_panel"],"mappings":"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"}