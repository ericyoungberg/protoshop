!function(){"use strict";function e(){}class t{constructor(){this.elem=document.createElement("ul"),this.elem.className="protoshop__list",this.toggle=e}append({elem:e,text:t}){const s=document.createElement("li"),o=document.createElement("button");o.addEventListener("click",()=>{const t=s.classList.contains("inactive");t?s.classList.remove("inactive"):s.classList.add("inactive"),this.toggle(e,t)});const a=document.createElement("span");return a.innerText=t,s.appendChild(o),s.appendChild(a),this.elem.appendChild(s),s}toggle(e,t){e.classList[t?"remove":"add"]("protoshop__layer--inactive")}}class s{constructor(e){this.name=e,this.elem=document.createElement("div"),this.elem.className=`protoshop__panel ${e}`,this.body=document.createElement("div"),this.body.className="protoshop__panel-body",this.elem.appendChild(this.body)}}window.protoshop=new class{constructor(){this.app=document.createElement("div"),this.app.className="protoshop",this._attachToggles(),this.panels=[this._constructArtboards(),this._constructLayers(),this._constructPhases()],this._constructWindow(),document.querySelector("body").appendChild(this.app)}_attachToggles(){Array.from(document.querySelectorAll("*[data-toggle]")).forEach(e=>{let{toggle:t}=e.dataset,s=e;if(-1!==t.indexOf(":")){let o;[o,t]=t.split(":"),(s=document.querySelector(`*[data-group="${o}"], *[data-layer="${o}"]`))||(e.classList.add("protoshop__error--toggle"),console.error(`"${o}" is not a valid layer`))}s&&e.addEventListener("click",()=>{s.classList.contains(t)?s.classList.remove(t):s.classList.add(t)})})}_constructArtboards(){const e=new s("artboards"),o=new t;return Array.from(document.querySelectorAll("*[data-artboard]")).forEach((e,t)=>{const s="string "==typeof e.dataset.artboard?e.dataset.artboard:`Artboard ${t+1}`;o.append({elem:e,text:s})}),e.body.appendChild(o.elem),e}_constructLayers(){const e=new s("layers"),o=new t;return Array.from(document.querySelectorAll("*[data-group], *[data-layer]")).forEach(e=>{if(e.dataset.group){const s=o.append({elem:e,text:e.dataset.group}),a=new t;s.appendChild(a.elem)}}),e.body.appendChild(o.elem),e}_constructPhases(){return new s("phases")}_constructWindow(){const e=document.createElement("div");e.className="protoshop__window";const t=document.createElement("div");t.className="protoshop__window-bar";const s=document.createElement("button");s.innerText="—",s.addEventListener("click",()=>{e.classList.contains("protoshop__window--minimized")?(s.innerText="—",e.classList.remove("protoshop__window--minimized")):(s.innerText="+",e.classList.add("protoshop__window--minimized"))}),t.appendChild(s);const o=document.createElement("div");o.className="protoshop__tabs",this.panels.forEach(({name:e})=>{const t=document.createElement("button");t.className="protoshop__tab",t.innerText=e[0].toUpperCase()+e.substr(1,e.length).toLowerCase(),t.addEventListener("click",()=>{this.panels.forEach(t=>{t.classList[t.name===e?"add":"remove"]("protoshop__panel--active")})}),o.appendChild(t)});const a=document.createElement("div");a.className="protoshop__panels",this.panels.forEach(e=>a.appendChild(e.elem)),e.appendChild(t),e.appendChild(o),e.appendChild(a),this.app.appendChild(e)}}}();
//# sourceMappingURL=protoshop.min.js.map
