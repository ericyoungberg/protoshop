!function(){"use strict";function e(){}class t{constructor(){this.elem=document.createElement("ul"),this.elem.className="protoshop__list",this.toggle=e}append({elem:e,text:t}){const s=document.createElement("li"),a=document.createElement("button");a.innerHTML="&#128065;",a.addEventListener("click",()=>{const t=s.classList.contains("inactive");t?s.classList.remove("inactive"):s.classList.add("inactive"),this.toggle(e,t)});const o=document.createElement("span");return o.innerText=t,s.appendChild(a),s.appendChild(o),this.elem.appendChild(s),s}toggle(e,t){e.classList[t?"remove":"add"]("protoshop__layer--inactive")}}class s{constructor(e){this.name=e,this.elem=document.createElement("div"),this.elem.className=`protoshop__panel ${e}`,this.body=document.createElement("div"),this.body.className="protoshop__panel-body",this.elem.appendChild(this.body)}}window.protoshop=new class{constructor(){this.app=document.createElement("div"),this.app.className="protoshop",this._attachToggles(),this.panels=[this._constructArtboards(),this._constructLayers(),this._constructPhases()],this._constructWindow(),document.querySelector("body").appendChild(this.app)}_attachToggles(){Array.from(document.querySelectorAll("*[data-toggle]")).forEach(e=>{let{toggle:t}=e.dataset,s=e;if(-1!==t.indexOf(":")){let a;[a,t]=t.split(":"),(s=document.querySelector(`*[data-group="${a}"], *[data-layer="${a}"]`))||(e.classList.add("protoshop__error--toggle"),console.error(`"${a}" is not a valid layer`))}s&&e.addEventListener("click",()=>{s.classList.contains(t)?s.classList.remove(t):s.classList.add(t)})})}_constructArtboards(){const e=new s("artboards"),a=new t;return Array.from(document.querySelectorAll("*[data-artboard]")).forEach((e,t)=>{const s="string "==typeof e.dataset.artboard?e.dataset.artboard:`Artboard ${t+1}`;a.append({elem:e,text:s})}),e.body.appendChild(a.elem),e}_constructLayers(){const e=new s("layers"),a=new t;return a.toggle=e=>{e.classList.contains("protoshop__layer--inactive")?e.classList.remove("protoshop__layer--inactive"):e.classList.add("protoshop__layer--inactive")},Array.from(document.querySelectorAll("*[data-group], *[data-layer]")).forEach(e=>{if(e.dataset.group){const s=a.append({elem:e,text:e.dataset.group}),o=new t;s.appendChild(o.elem)}}),e.body.appendChild(a.elem),e}_constructPhases(){return new s("phases")}_constructWindow(){const e=document.createElement("div");e.className="protoshop__window";const t=document.createElement("div");t.className="protoshop__window-bar";const s=document.createElement("button");s.innerText="—",s.addEventListener("click",()=>{e.classList.contains("protoshop__window--minimized")?(s.innerText="—",e.classList.remove("protoshop__window--minimized")):(s.innerText="+",e.classList.add("protoshop__window--minimized"))}),t.appendChild(s);const a=document.createElement("div");a.className="protoshop__tabs",this.tabs=[],this.panels.forEach(({name:e},t)=>{const s=document.createElement("button");s.className="protoshop__tab",s.innerText=e[0].toUpperCase()+e.substr(1,e.length).toLowerCase(),s.addEventListener("click",()=>{this.panels.forEach((t,s)=>{t.elem.classList[t.name===e?"add":"remove"]("protoshop__panel--active"),this.tabs[s]&&this.tabs[s].classList[t.name===e?"add":"remove"]("active")})}),a.appendChild(s),this.tabs.push(s),0===t&&s.dispatchEvent(new MouseEvent("click"))});const o=document.createElement("div");o.className="protoshop__panels",this.panels.forEach(e=>o.appendChild(e.elem)),e.appendChild(t),e.appendChild(a),e.appendChild(o),this.app.appendChild(e)}}}();
//# sourceMappingURL=protoshop.min.js.map
